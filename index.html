<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS Tester</title>
  </head>
  <body>
    <h1>Key event handler - onchange</h1>

    <div id="welcome">Hi there!</div>
    <br />
    <form action="#">
      <input
        type="text"
        name="firstname"
        placeholder="first name"
        onchange="logEvent()"
      />
      <input
        type="text"
        name="lastname"
        placeholder="last name"
        onblur="logEvent()"
      />
      <input type="button" onclick="sendInfo()" value="submit button" />
    </form>
    <hr />
    <h1>Key event handler - onchange, onblur, onfocus</h1>

    <div class="output1"></div>
    <input type="text" placeholder="First Name" name="first" /><br />
    <input type="text" placeholder="Last Name" name="last" /><br />
    <hr />
    <h1>Key event handler</h1>

    <div id="wrapper">Javascript is fun!</div>
    <br />
    <label for="number">Please enter a Number</label><br />
    <input
      type="text"
      name="myNum1"
      onkeypress="return numCheck()"
      onpaste="return false"
    />
    <br />
    <br />
    <label for="number">Please enter a Alphabet</label><br />

    <input
      type="text"
      name="myNum2"
      onkeypress="return numCheck2()"
      onpaste="return true"
    />
    <hr />
    <h1>Key event handler - keydown, keyup, paste</h1>
    <div class="outputNew"></div>
    <input type="text" name="myNum1" /><br /><br />
    <input type="text" name="myNum2" />

    <script>
      function logEvent() {
        let p = event.target;
        if (p.name == "firstname") {
          message("First Name Changed to " + p.value);
        } else {
          message("Last Name Changed to " + p.value);
        }
      }
      function sendInfo() {
        let p = event.target.parentElement;
        message(
          "Welcome " + p[(name = "firstname")].value + " " + p.lastname.value
        );
        console.dir(event.target.parentElement.firstname.value);
      }
      function message(m) {
        document.getElementById("welcome").innerHTML = m;
      }
      //onchange and onblur
      const output = document.querySelector(".output1");

      const in1 = document.querySelector("input[name='first']");
      const in2 = document.querySelector("input[name='last']");
      in1.addEventListener("change", (e) => {
        console.log("change");
        updater(in1.value);
      });
      in1.addEventListener("blur", (e) => {
        console.log("blur");
      });
      in1.addEventListener("focus", (e) => {
        console.log("focus");
      });
      in2.addEventListener("change", (e) => {
        console.log("change");
        updater(in2.value);
      });
      in2.addEventListener("blur", (e) => {
        console.log("blur");
      });
      in2.addEventListener("focus", (e) => {
        console.log("focus");
      });
      function updater(str) {
        output.textContent = str;
      }
      //key event handler1
      function numCheck() {
        message("Number: " + !isNaN(event.key));
        return !isNaN(event.key);
      }

      function numCheck2() {
        message("Number: " + isNaN(event.key));
        return isNaN(event.key);
      }
      function message(m) {
        document.getElementById("wrapper").innerHTML = m;
      }
      //key event handler2
      const eles = document.querySelectorAll("input");
      const outputNew = document.querySelector(".outputNew");
      eles.forEach((el) => {
        el.addEventListener("keydown", (e) => {
          if (!isNaN(e.key)) {
            outputNew.textContent += e.key;
          }
        });
        el.addEventListener("keyup", (e) => {
          console.log(e.key);
        });
        el.addEventListener("paste", (e) => {
          console.log("pasted");
        });
      });
    </script>
  </body>
</html>
